<div class="laborantin-container">
  <div class="header-info">
    <div class="info-item">
      <label>Date :</label>
      <span>{{ currentDate }}</span>
    </div>
  </div>

  <form [formGroup]="laborantinForm" (ngSubmit)="onSubmit()">
    <!-- Nom du patient -->
    <div class="form-group">
      <label for="nomPatient">Nom du patient :</label>
      <input
        type="text"
        id="nomPatient"
        formControlName="nomPatient"
        required
        placeholder="Nom du patient">
      <div *ngIf="laborantinForm.get('nomPatient')?.invalid && laborantinForm.get('nomPatient')?.touched" class="error">
        Veuillez entrer le nom du patient.
      </div>
    </div>

    <!-- Laborantin -->
    <div class="form-group">
      <label for="laborantin">Laborantin :</label>
      <input
        type="text"
        id="laborantin"
        formControlName="laborantin"
        required
        placeholder="Nom du laborantin">
      <div *ngIf="laborantinForm.get('laborantin')?.invalid && laborantinForm.get('laborantin')?.touched" class="error">
        Veuillez entrer le nom du laborantin.
      </div>
    </div>

    <!-- Glycémie -->
    <div class="form-group">
      <label for="glycemie">Glycémie (mg/dL) :</label>
      <input
        type="number"
        id="glycemie"
        formControlName="glycemie"
        required
        placeholder="Glycémie"
        step="0.01">
      <div *ngIf="laborantinForm.get('glycemie')?.invalid && laborantinForm.get('glycemie')?.touched" class="error">
        Veuillez entrer une valeur valide pour la glycémie.
      </div>
    </div>

    <!-- Pression Artérielle -->
    <div class="form-group">
      <label for="pression">Pression Artérielle (mmHg) :</label>
      <input
        type="number"
        id="pression"
        formControlName="pression"
        required
        placeholder="Pression Artérielle"
        step="0.01">
      <div *ngIf="laborantinForm.get('pression')?.invalid && laborantinForm.get('pression')?.touched" class="error">
        Veuillez entrer une valeur valide pour la pression artérielle.
      </div>
    </div>

    <!-- Cholestérol -->
    <div class="form-group">
      <label for="cholesterol">Cholestérol (mg/dL) :</label>
      <input
        type="number"
        id="cholesterol"
        formControlName="cholesterol"
        required
        placeholder="Cholestérol"
        step="0.01">
      <div *ngIf="laborantinForm.get('cholesterol')?.invalid && laborantinForm.get('cholesterol')?.touched" class="error">
        Veuillez entrer une valeur valide pour le cholestérol.
      </div>
    </div>

    <!-- Buttons -->
    <div class="button-group">
      <button type="button" class="btn graph-btn" (click)="generateGraph()">Générer Graphique de Tendance</button>
      <button type="submit" class="btn save-btn" [disabled]="laborantinForm.invalid">Enregistrer le Bilan</button>
      <button type="button" class="btn cancel-btn" (click)="cancel()">Annuler</button>
    </div>
  </form>

  <!-- Zone pour le graphique -->
  <div class="chart-container">
    <canvas id="myChart"></canvas>
  </div>
</div>